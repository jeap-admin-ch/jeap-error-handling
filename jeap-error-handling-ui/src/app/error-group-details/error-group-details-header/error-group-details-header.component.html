<mat-card>
	<mat-card-header>
		<h5>{{ "i18n.errorGroupDetails" | translate }}</h5>
	</mat-card-header>
	<mat-card-content>
		<form>
			<div class="header-columns">
				<div class="column">
					<mat-card>
						<mat-card-content>
							<div style="display: flex; align-items: baseline; gap: 8px; min-height: 36px;">
								<mat-form-field>
									<mat-label>{{ "i18n.jiraTicket" | translate }}</mat-label>
									<input type="text" matInput
										   [value]="errorGroupDetails.ticketNumber"
										   (focus)="onTicketNumberFocus(ticketInput.value)"
										   (blur)="onTicketNumberChange(ticketInput.value)"
										   (keyup.enter)="onTicketNumberChange(ticketInput.value)"
										   #ticketInput/>
								</mat-form-field>
								<button mat-button obButton="primary" type="button"
										*ngIf="environment.ISSUE_TRACKING_ENABLED && !ticketInput.value"
										(click)=createTicket()
										style="height: 36px; min-width: 150px">{{ "i18n.createJiraTicket" | translate }}
								</button>
								<button mat-button obButton="primary" type="button"
										*ngIf="!!ticketInput.value"
										(click)="viewTicket()"
										style="height: 36px; min-width: 150px">{{ "i18n.viewJiraTicket" | translate }}
								</button>
							</div>
							<div style="display: flex; align-items: baseline; gap: 8px; min-height: 36px;">
								<mat-form-field>
									<mat-label>{{ "i18n.error.timestamp.freeText" | translate }}</mat-label>
									<textarea matInput [value]="errorGroupDetails.freeText" #freeTextInput></textarea>
								</mat-form-field>
								<button mat-button obButton="primary" type="button"
                                        [disabled]="!freeTextInput.value"
                                        (click)="saveFreeText(freeTextInput.value)"
										style="height: 36px; min-width: 150px">{{ "i18n.saveFreeText" | translate }}
								</button>
							</div>
							<mat-form-field>
								<mat-label>{{ "i18n.errorGroupId" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.errorGroupId" readonly/>
							</mat-form-field>
							<mat-form-field>
								<mat-label>{{ "i18n.errorhandling.form.messagetype" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.errorEvent" readonly/>
							</mat-form-field>
							<mat-form-field>
								<mat-label>{{  "i18n.errorhandling.form.source" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.errorPublisher" readonly/>
							</mat-form-field>
						</mat-card-content>
					</mat-card>
				</div>
				<div class="column">
					<mat-card>
						<mat-card-content>
							<mat-form-field>
								<mat-label>{{ "i18n.error.errorCount" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.errorCount" readonly/>
							</mat-form-field>
							<mat-form-field>
								<mat-label>{{ "i18n.error.createdAt" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.firstErrorAt" readonly/>
							</mat-form-field>
							<mat-form-field>
								<mat-label>{{ "i18n.error.modifiedAt" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.latestErrorAt" readonly/>
							</mat-form-field>
							<mat-form-field>
								<mat-label>{{ "i18n.errorhandling.form.errorcode" | translate }}</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.errorCode" readonly/>
							</mat-form-field>
							<mat-form-field>
								<mat-label>Stacktrace Hash</mat-label>
								<input type="text" matInput [value]="errorGroupDetails.stackTraceHash" readonly/>
							</mat-form-field>
						</mat-card-content>
					</mat-card>

				</div>
			</div>

		</form>
	</mat-card-content>
</mat-card>



